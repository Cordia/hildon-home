2009-04-17  Adam Endrodi <ext-adam.endrodi@nokia.com>

	Performance improvements.  In relationship with NB#110711.

	* hd-notification-manager.c:
	  Use prepared statements to write to the database.
	  Batch multiple notifications in one transaction
	  and commit them together.  This way you can have
	  ~20 notifications per second (or more if you're
	  a maniac).
	* hildon-home.c:
	  Exit cleanly on SIGINT.
	* hd-system-notifications.c:
	  Don't print bogus critical warnings when reprocessing
	  the notification database.

2009-04-16  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.22
	* configure.ac: 0.3.22

2009-04-16  Jan Arne Petersen  <jpetersen@openismus.com>

	Nokia: Fixes: NB#111271, NB#111255 - hildon-home crashes

	* src/hd-incoming-events.c (group_update_window_content): Use the real
	  group.
	  (get_mapped_category): Return the default category if not mapped.
	  (show_preview_window, switcher_window_response): Handle
	  notifications without a category.

	* debian/changelog: Update.

2009-04-09  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#108185 - Notification process doesn't check RAM level

	* configure.ac: Add libosso dep
	* debian/control: Add libosso dep

	* src/hd-incoming-events.c (group_notification_closed,
	  group_activate_notifications, group_window_response,
	  preview_window_response): Check for lowmem condition and do not
	  activate notifications in this case.

	* debian/changelog: Update.

2009-04-07  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.21
	* configure.ac: 0.3.21

2009-04-07  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#108935 - Chat and SMS message notifications are not grouped
	together

	* src/hd-incoming-events.c (NOTIFICATION_GROUP_KEY_GROUPED_CATEGORY,
	  NOTIFICATION_GROUP_KEY_GROUPED, grouped_category, switcher_window,
	  notifications, no_window, grouped, ie, group_free,
	  group_update_window_content, switcher_window_response,
	  get_mapped_category, add_switcher_notification, show_preview_window,
	  cmp_category_func, hd_incoming_events_notified,
	  load_notification_groups): Support groups for multiple categories
	  used for sms and chat messages.

	* src/notification-groups.conf: Add messages group.

	* debian/changelog: Update

2009-04-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-backgrounds.c (gconf_bgimage_notify): Only show update
	  notification when background is changed via Change background
	  dialog.

2009-04-03  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#109450 - Changed theme is not applied to shortcuts.	

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_init): Redraw if
	  cached surface change.

	* src/hd-cairo-surface-cache.c (HD_CAIRO_SURFACE_CACHE_GET_PRIVATE,
	  _HDCairoSurfaceCachePrivate, table, theme_monitor, CHANGED,
	  LAST_SIGNAL, signals, hd_cairo_surface_cache_dispose,
	  hd_cairo_surface_cache_class_init, theme_changed,
	  hd_cairo_surface_cache_init, hd_cairo_surface_cache_get_surface):
	  Reload new images and update surfaces on theme change

	* src/hd-incoming-event-window.c (hd_incoming_event_window_init):
	  Redraw if cached surface change.

2009-03-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-backgrounds.c (copy_pvr_cb, check_queue): Add support to copy
	pre-generated .pvr images.

	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_response): Fix bug in loop.

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_init): Fix label
	colour, use "hildon-label-shadow". Fixes: NB#106506.

	* debian/changelog: Update

2009-03-31  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.20
	* configure.ac: 0.3.20

2009-03-27  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/hd-incoming-events.c (preview_window_response): Fix use after
	free spotted by Coverity: 'info' was used after freeing it.
	(group_update_window_content): Check for group==NULL before using it.
	Spotted by Coverity.

2009-03-27  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.19
	* configure.ac: 0.3.19

2009-03-26  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#107871 - hildon-home crash related to incoming events.

	* src/hd-incoming-events.c (preview_window_response,
	  show_preview_window): Make sure the notifications are still alive.

	* debian/changelog: Update

2009-03-26  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#106387 - Add contact option is displayed in desktop menu
	even there are no contacts to add

	* src/hd-hildon-home-dbus.c (select_contacts_button,
	  CONTACT_DBUS_CAN_ADD_SHORTCUT, model_row_deleted_cb,
	  can_add_shortcut_notify, hd_hildon_home_dbus_show_edit_menu): Call
	  can_add_shortcut to check if there is a contact to add.

2009-03-26  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#107622 - hildon-home crash trying to open a NULL URL.

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_update_from_gconf,
	  hd_bookmark_shortcut_activate_service): Fix hildon-home crash.

2009-03-26  Adam Endrodi <ext-adam.endrodi@nokia.com>

	* src/hd-incoming-event-window.c:
	  Communicate the event time and message in the X Window properties.
	  The WM will need to know about them because it will need to layout
	  the notification window (thumbnail) entirely on its own.
	* src/test-incoming-event.c:
	  Add longer message text.

2009-03-24  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#107329 - Opening account from grouped mail notifications
	broken.

	* src/hd-incoming-events.c (group_activate_notifications): Create a
	DBus Message to call.

	* src/hd-notification-manager.c
	  (hd_notification_manager_call_message):
	* src/hd-notification-manager.h: Add function to call a DBusMessage.

	* debian/changelog: Update

2009-03-23  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.18
	* configure.ac: 0.3.18

2009-03-10  Adam Endrodi <ext-adam.endrodi@nokia.com>

	NB#95670 PLayed games are not going to pause state ,when
	         sms / message is received

	* src/hd-incoming-event-window.c:
	  Don't accept focus.
	* src/test-incoming-event.c:
	  Make it able to create previews and not previews.

2009-03-20  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#105850 - Implementing fallback for background images.

	* src/hd-backgrounds.c (get_background_for_view_from_theme,
	  get_background_for_view, hd_backgrounds_set_background,
	  hd_backgrounds_get_background): Implementing fallback for background
	  images.
	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_append_backgrounds,
	  hd_change_background_dialog_constructed,
	  hd_change_background_dialog_response): Image sets set all
	  backgrounds. Support fallback for background images.

	* debian/changelog: Update

2009-03-19  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-event-window.c (hd_incoming_event_window_realize):
	  Use undecorated rgba windows for incoming events. Fixes: NB#106312.

	* debian/changelog: Update

2009-03-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/control: Add dependencies for localizations.

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_update_from_gconf,
	  hd_bookmark_shortcut_expose_event): Do not scale in expose function.
	  Fixes: NB#102307.
	  (hd_bookmark_shortcut_class_init): Update text/shadow colors. Fixes:
	  NB#106506.

	* debian/changelog: Update

2009-03-17  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.17
	* configure.ac: 0.3.17

2009-03-16  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#105736 - Incoming event window theming.

	* src/Makefile.am:
	* src/hd-incoming-event-window.c (IMAGES_DIR, BACKGROUND_IMAGE_FILE,
	  timeout_id, bg_image, hd_incoming_event_window_realize,
	  hd_incoming_event_window_expose_event,
	  hd_incoming_event_window_dispose,
	  hd_incoming_event_window_class_init, hd_incoming_event_window_init):
	* src/test-incoming-event.c (main): Add incoming event window theming. 

2009-03-13  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#105332 - Fix desktop menu destroy bug.

	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu): Hide
	instead of destroy menu on delete.

2009-03-13  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Fixes: NB#105748

2009-03-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/notification-groups.conf: Set logical string to
	tana_fi_msgs_multiple for SMS/chat messages. Fixes: NB#105391

	* debian/changelog: update

2009-03-12  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.16

2009-03-11  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#104709, NB#104479

	* com.nokia.HildonHome.service.in:
	* debian/hildon-home.xsession:
	* org.freedesktop.Notifications.service.in: Use dsmetool to make sure
	only one hildon-home instance is running.

	* debian/changelog: Update.

2009-03-11  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-cairo-surface-cache.c (added):
	* src/hd-cairo-surface-cache.h (added):
	* src/Makefile.am: Add HDCairoSurfaceCache.

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_init): Use
	HDCairoSurfaceCache to cache cairo surfaces. Fixes: NB#104852

	* debian/changelog: Update.

2009-03-10  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.15

2009-03-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (group_activate_notifications,
	  group_window_response, group_update_window_content, group_update, ie,
	  group, notifications, preview_window_response,
	  close_led_notification, remove_from_preview_list,
	  preview_window_destroy_cb, show_preview_window,
	  hd_incoming_events_notified, hd_incoming_events_finalize): Implement
	  grouped incoming notification previews. Fixes: NB#102328

	* debian/changelog: Update.

2009-03-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/notification-groups.conf: Add D-Bus calls for chat-message and
	sms-message (see NB#101536).

2009-03-07  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update.

	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_append_backgrounds): Implement theme
	  and imageset prefixes. 

2009-03-07  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-backgrounds.c (hd_backgrounds_set_background,
	  hd_backgrounds_get_background):
	* src/hd-change-background-dialog.c (
	  hd_change_background_dialog_append_backgrounds,
	  hd_change_background_dialog_constructed,
	  hd_change_background_dialog_set_property,
	  hd_change_background_dialog_response,
	  hd_change_background_dialog_class_init,
	  hd_change_background_dialog_init, hd_change_background_dialog_new):
	* src/hd-change-background-dialog.h: Select current background in
	  "Change background" dialog. Fixes: NB#101972, NB#96398

	* src/hd-hildon-home-dbus.c (menu, current_view,
	  change_background_clicked_cb, hd_hildon_home_dbus_show_edit_menu):
	  Use current view.

	* debian/changelog: Update.

2009-03-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Cache background images as pvr texture files. Only
	cache files when they are not changed. Fixes: NB#100103

2009-03-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-activate-views-dialog.c (hd_activate_views_dialog_init):
	* src/hd-background-helper.c (save_thumbnail_async_thread):
	* src/hd-backgrounds.c (save_thumbnail_cb, read_pixbuf_cb): Create
	  additional thumbnails for the activate views dialog.

2009-03-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (group_window_response): Fix un-grouped
	  notification case.

2009-03-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-background-helper.c (save_thumbnail_async_thread,
	  hd_background_helper_save_thumbnail_async,
	  hd_background_helper_save_thumbnail_finish,
	  save_pvr_texture_async_thread):
	* src/hd-background-helper.h (__HD_BACKGROUND_HELPER_H__):
	* src/hd-backgrounds.c (bg_image, cache_info_contents,
	  save_cached_background_cb, load_cache_info_cb,
	  hd_backgrounds_dipose): Use updates save function from
	  libhildondesktop.

	* src/hd-incoming-events.c (NOTIFICATION_GROUP_KEY_ACCOUNT_CALL,
	  NOTIFICATION_GROUP_KEY_ACCOUNT_HINT,
	  NOTIFICATION_GROUP_KEY_LED_PATTERN, pattern, group_free,
	  preview_window_destroy, hd_incoming_events_set_led_pattern,
	  close_led_notification, hd_incoming_events_notified,
	  load_notification_groups):
	* src/notification-groups.conf: Implement LED pattern support (based
	on a patch by naba.kumar@nokia.com). Fixes: NB#93936

	* src/test-notifications.py (action_invoked_handler): Increase
	timeout.

	* debian/changelog: Update.

2009-03-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* debian/control: Require new libhildondesktop.

	* src/hd-background-helper.c (save_pvr_texture_async_thread,
	  hd_background_helper_save_pvr_texture_async,
	  hd_background_helper_save_pvr_texture_finish):
	* src/hd-background-helper.h: Add helper function to save as pvr
	  texture.

	* src/hd-backgrounds.c:
	* src/hd-backgrounds.h: Save cached backgrounds as pvr texture. Save
	  cache info file and recreate cached backgrounds only when required.

	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu):
	  Remove unneeded casts.
	* src/hd-incoming-events.c (hd_incoming_events_notified,
	  hd_incoming_events_init): Add debug output.

	* src/hd-system-notifications.c (system_notifications_notified):
	  Remove unneeded casts.

	* src/test-notifications.py (action_invoked_handler): Increase
	  timeout.

2009-03-02  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.14

2009-02-27  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-add-applet-dialog.c (hd_add_applet_dialog_init):
	* src/hd-change-background-dialog.c (hd_change_background_dialog_init):
	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu):
	  Update logical strings and menu layout to next Home UI spec.

	* src/hd-incoming-events.c (group_free, group_window_response,
	  load_notification_groups):
	* src/notification-groups.conf: Add support for three states for email
	  notifications. Fixes: NB#103001

	* debian/changelog: Update.

2009-02-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hildon-home.c (enable_debug, entries, load_operator_applet,
	  log_ignore_debug_handler, main): Disable g_debug output by default.
	  It can be enabled via --enable-debug. Fixes: NB#103304

	* debian/changelog: Update.

2009-02-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-task-manager.c (hd_task_manager_load_desktop_file): Respect
	NoDisplay key. Fixes: NB#103423

	* debian/changelog: Update.

2009-02-25  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/notification-groups.conf: Add D-Bus call to com.nokia.modest
	/com/nokia/modest com.nokia.modest OpenDefaultInbox for multiple mail
	messages. Fixes: NB#103001

	* debian/changelog: Update.

2009-02-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* debian/control: Add mce-dev dependency.

	* src/hd-incoming-events.c: On incoming events request mce to turn
	display backlight on. Fixes: NB#100745

	* debian/changelog: Update.

2009-02-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-system-notifications.c (destroy_dialog,
	  hd_system_notifications_dispose,
	  hd_system_notifications_class_init): Free queue on dispose. Fixes:
	  NB#102456

	* debian/changelog: Update.

2009-02-24  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixes: NB#102470

	* src/hd-bookmark-manager.c (parse_idle_id,
	  hd_bookmark_manager_parse_bookmark_files,
	  hd_bookmark_manager_bookmark_files_changed,
	  hd_bookmark_manager_monitor_bookmark_files,
	  hd_bookmark_manager_dipose): Rename parse_thread_id to
	  parse_idle_id.
	* src/hd-bookmark-shortcut.c (LABEL_WIDTH): Enclose in parentheses.
	  (hd_bookmark_shortcut_update_from_gconf, delete_event_cb): Use
	  g_clear_error.

	* debian/changelog: Update.

2009-02-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-backgrounds.c (create_cached_background): Fix writing changed
	background to GConf.

2009-02-23  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.13
	* configure.ac: 0.3.13

2009-02-21  Jan Arne Petersen  <jpetersen@openismus.com>

	Make hildon-home maemo-launched. Fixes: NB#101032

	* configure.ac: Add support for --enable-maemo-launcher flag.

	* debian/rules: Add support for maemo launcher.
	
	* debian/control: Add maemo-launcher-dev build-dep.

	* src/Makefile.am: Add maemo launcher CFLAGS/LDFLAGS.

	* src/hildon-home.c: Add g_thread_supported() check.

	* debian/changelog: Update.

2009-02-20  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-activate-views-dialog.c (only_selected,
	  hd_activate_views_dialog_dispose, selection_changed_cb,
	  hd_activate_views_dialog_init): Do not allow to uncheck all active
	  views. Fixes: NB#102427

	* debian/changelog: Update.

2009-02-20  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_update_from_gconf,
	  hd_bookmark_shortcut_dispose, hd_bookmark_shortcut_expose_event,
	  hd_bookmark_shortcut_init): Use cairo surfaces for the images
	  instead of GdkPixbufs. Fixes: NB#102307

2009-02-20  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update.

	* src/hd-system-notifications.c (hd_desktop_pulsate_progress_bar,
	  progressbar_destroy_cb, create_note_dialog): Fix Potential crash in
	  hd-system-notifications.c (progress bar pulsing). Remove source on
	  destroy of the progress bar. Fixes: NB#102472

2009-02-20  Jan Arne Petersen  <jpetersen@openismus.com>

	Implement background image caching. Fixes: NB#96528, NB#96532,
	NB#97364, NB#100499.

	* src/Makefile.am: Add new files.
	* src/hd-activate-views-dialog.c (hd_activate_views_dialog_init): Use
	  cached images as thumbnails.
	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_response): Call into HDBackgrounds to
	  update background.
	* src/hildon-home.c (main): Create HDBackgrounds instance
	* src/hd-backgrounds.c (added):
	* src/hd-backgrounds.h (added): HDBackgrounds cached backgrounds
	  manager.
	* src/hd-background-helper.c (added):
	* src/hd-background-helper.h (added): Async functions to create cached
	  images.

	* debian/changelog: Update.

2009-02-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_init,
	hd_hildon_home_dbus_dispose, select_contacts_clicked_cb): Add call to
	com.nokia.osso_addressbook.add_shortcut. Fixes: NB#102323

2009-02-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-applet-manager.c (hd_plugin_info_free,
	  hd_applet_manager_init): Do not leak plugin infos. Fixes: NB#102295
	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_append_backgrounds): Do not leak
	  strings from key file. Fixes: NB#102298
	* src/hd-incoming-events.c (load_notification_groups): Do not leak
	  key_file and groups_file in error cases. Fixes: NB#102302
	* src/hd-notification-manager.c (hd_notification_manager_call_action,
	  hd_notification_manager_call_dbus_callback): Do not leak D-Bus
	  messages. Fixes: NB#102304
	* src/hd-task-manager.c (hd_task_manager_load_desktop_file): Do not
	  leak desktop_id. Fixes: NB#102296

2009-02-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-applet-manager.c (items_configuration_loaded_cb): Fix
	missing error argument (Coverity). Fixes: NB#102259

2009-02-17  Jan Arne Petersen  <jpetersen@openismus.com>

	Use the hildon-desktop AppMgr interface to launch applications. Fixes:
	NB#90450

	* src/hd-task-manager.c (hd_task_manager_dispose): Unref D-Bus AppMgr
	  proxy.
	  (hd_task_manager_get_app_mgr_proxy): Connects to D-Bus AppMgr proxy.
	  (hd_task_manager_launch_task): Use AppMgr to launch the task.

2009-02-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog:
	* debian/rules: Start hildon-home as #20 instead of #22. Fixes:
	NB#101216

2009-02-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (group_update): Fix extended notifications
	support in task switcher notifications. Fixes: NB#99742

2009-02-13  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_expose_event):
	Paint the frame in front of the thumbnail.

2009-02-13  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.12
	* configure.ac: 0.3.12

2009-02-13  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c: Use RGBA window, update to new theme.

	* src/hd-task-shortcut.c: Use RGBA window.

2009-02-12  Adam Endrodi <ext-adam.endrodi@nokia.com>

	Replay persistent notifications when starting up.
	NB#99955

	* src/hildon-home.c:
	  Load the persistent notifications after initialization complete.
	* src/hd-marshal.list
	* src/hd-notification-manager.h:
	  Export hd_notification_manager_db_load() for hildon-home.c.
	* src/hd-notification-manager.c:
	  Emit "notified" when a persistent notification is loaded.
	  Changed the signature of the "notify" signal to allow for
	  distinguishing notifications being just loaded from the database.
	* src/hd-incoming-events.c:
	  Do not show preview for replayed notifications nor distribute them
	  among the notification plugins.
	  Added add_switcher_notification() for common code.
	  Fixed a crasher caused by not duplicating the key when we add
	  the "persistent" hint to a HDNotification.
	* src/hd-system-notifications.c:
	  Ignore replayed notifications as system notifications cannot be
	  persistently stored.
	* src/test-incoming-event.c:
	  Use hildon_init() and a longer summery text to see
	  if it's properly clipped in tasw.

2009-02-11  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.11
	* configure.ac: 0.3.11

2009-02-11  Adam Endrodi <ext-adam.endrodi@nokia.com>

	* src/hd-incoming-events.c (hd_incoming_events_get):
	  Typo fix that prevented the HdIncomingEvents singleton from ever
	  being created.

2009-02-10  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.10
	* configure.ac: 0.3.10

2009-02-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Add some more fixed bugs.

2009-02-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* Makefile.am:
	* debian/hildon-home.install:
	* hildon-home.schemas (deleted): Do not install default .schema file.
	Fixes: NB#101137

	* src/hd-activate-views-dialog.c (hd_activate_views_dialog_init): Use
	  backgrounds from theme if there is no GConf key.

	* src/hd-task-manager.c (hd_task_manager_get_label,
	  hd_task_manager_get_icon): Do not warn.

	* debian/changelog: Update.

>>>>>>> .r35222
2009-02-05  Jan Arne Petersen  <jpetersen@openismus.com>

	Code cleanup.

	* src/hd-activate-views-dialog.c (hd_activate_views_dialog_response,
	  hd_activate_views_dialog_class_init, hd_activate_views_dialog_init):
	* src/hd-add-applet-dialog.c (HD_ADD_APPLET_DIALOG_GET_PRIVATE,
	  _HDAddAppletDialogPrivate, selector, hd_add_applet_dialog_response,
	  hd_add_applet_dialog_class_init, hd_add_applet_dialog_init):
	* src/hd-add-bookmark-dialog.c (hd_add_bookmark_dialog_response,
	  hd_add_bookmark_dialog_class_init, hd_add_bookmark_dialog_init):
	* src/hd-add-task-dialog.c (HD_ADD_TASK_DIALOG_GET_PRIVATE,
	  _HDAddTaskDialogPrivate, selector, hd_add_task_dialog_response,
	  hd_add_task_dialog_class_init, hd_add_task_dialog_init):
	* src/hd-applet-manager.c (hd_applet_manager_dispose,
	  hd_applet_manager_finalize, hd_applet_manager_class_init,
	  hd_applet_manager_get_model):
	* src/hd-bookmark-manager.c (model, user_bookmarks_handle,
	  operator_bookmarks_handle, parse_thread_id,
	  hd_bookmark_manager_add_bookmark_item,
	  hd_bookmark_manager_bookmark_files_changed,
	  hd_bookmark_manager_dipose, hd_bookmark_manager_class_init):
	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_finalize,
	  hd_change_background_dialog_response,
	  hd_change_background_dialog_class_init,
	  hd_change_background_dialog_init):
	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_class_init,
	  hd_hildon_home_dbus_get, hd_hildon_home_dbus_show_edit_menu):
	* src/hd-incoming-events.c (preview_queue, groups, plugins,
	  plugin_manager, group_window_response, group_update,
	  hd_incoming_events_dispose, hd_incoming_events_finalize,
	  hd_incoming_events_class_init, hd_incoming_events_plugin_removed,
	  load_plugins_idle, hd_incoming_events_init, hd_incoming_events_get):
	* src/hd-incoming-events.h (parent):
	* src/hd-notification-manager.c (hd_notification_manager_dispose,
	  hd_notification_manager_finalize, hd_notification_manager_class_init,
	  hd_notification_manager_timeout, hd_notification_manager_get):
	* src/hd-task-manager.c (hd_task_manager_class_init,
	  hd_task_manager_get_icon):
	* src/hildon-home.c (signal_handler, main):

2009-02-05  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/hd-notification-manager.c (hd_notification_manager_next_id): Use
	char instead of gchar for sqlite arguments. Free SQL error with
	sqlite3_free instead of g_free (this fixes a double free found by
	Coverity).
	(hd_notification_manager_db_insert_hint): Free sql_value.
	(hd_notification_manager_message_from_des): Free scanner in case of
	invalid parameters.
	* src/hd-bookmark-manager.c (hd_bookmark_manager_parse_bookmark_files): 
	Free 'root' after getting it from get_bookmark_from_backup() and
	get_root_bookmark().

2009-02-04  Adam Endrodi <ext-adam.endrodi@nokia.com>

	* src/hd-incoming-events.c:
	  Crash fix for the case when two or more notifications arrive
	  in the same category.

2009-02-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (NOTIFICATION_GROUP_KEY_NO_WINDOW,
	  no_window, hd_incoming_events_notified, load_notification_groups):
	  Add support for No-Window property in the notification groups
	  configuration file. Fixes: NB#98574

	* src/notification-groups.conf: Add No-Window options to incoming-call
	and alarm-event notification.

	* debian/changelog: Update.

2009-02-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (LOAD_URL_METHOD): Use open_new_window
	D-Bus method. Fixes: NB#97193

	* configure.ac: 0.3.10

	* debian/changelog: Update.

2009-02-03  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.9
	* configure.ac: 0.3.9

2009-02-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (group_update): Fix crash.

2009-02-03  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.8
	* configure.ac: 0.3.8

2009-02-02  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update.

2009-02-02  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (NOTIFICATION_GROUP_KEY_EMPTY_SUMMARY,
	  NOTIFICATION_GROUP_KEY_PREVIEW_SUMMARY, empty_summary,
	  preview_summary, group_free, group_update,
	  hd_incoming_events_notified, load_notification_groups): Add handling
	  of preview summary and empty summary strings for notification
	  display. Fixes NB#99742, NB#97906

	* src/notification-groups.conf: Add some more key/values for empty
	summary and preview summary.

	* debian/changelog: Update.

2009-02-02  Jan Arne Petersen  <jpetersen@openismus.com>

	Fixed some memory leaks.

	* src/hd-applet-manager.c (items_configuration_loaded_cb): Free
	plugins (NULL-terminated array of strings).

	* src/hd-notification-manager.c (hd_notification_manager_finalize):
	  Free notifications hashtable.
	  (hd_notification_manager_notify): Free sender.

	* src/hildon-home.c (signal_handler, main): Free notification manager.

	* src/test-notifications.py (emit_notification): Update.

2009-01-30  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hildon-home.c (load_operator_applet, main): Load the operator
	  applet if it is available.

	* debian/changelog: Update.

2009-01-30  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-event-window.c
	  (hd_incoming_event_window_set_property): Fix icon size.

	* src/hd-notification-manager.c (hd_notification_manager_notify): Do
	not check existence of icon. If no "time" hint is set use current
	time. Fixes NB#97905.

	* src/home.plugins.in: Revert.

2009-01-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-applet-manager.c (HDPluginInfo, plugin_removed_cb,
	  plugin_module_added_cb, hd_applet_manager_init,
	  hd_applet_manager_get_model,
	  hd_applet_manager_install_applet_from_desktop_file,
	  hd_applet_manager_install_applet): Add installed applet to Home.
	  Fixes NB#96229
	* src/home.conf.in: Installing of new applets is now done by
	  HDAppletManager.

	* debian/changelog: Update.

2009-01-28  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-task-manager.c (monitors, service, row, HDTaskInfo,
	  DESKTOP_FILE_CHANGED, DESKTOP_FILE_DELETED, LAST_SIGNAL,
	  task_manager_signals, hd_task_info_free,
	  hd_task_manager_load_desktop_file,
	  hd_task_manager_remove_desktop_file, applications_dir_changed,
	  visit_func, hd_task_manager_init, hd_task_manager_dispose,
	  hd_task_manager_finalize, hd_task_manager_class_init): Monitor the
	  applications directory for changes and reload .desktop files if a
	  file fas created/changed or remove task shortcuts i a file was
	  deleted.

	* src/hd-task-shortcut.c (hd_task_shortcut_desktop_file_deleted_cb,
	  hd_task_shortcut_constructed): Send delete event to window if the
	  .desktop file was removed.

	* debian/changelog: Update.

	Fixes NB#93939

2009-01-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update.

	* debian/control: Add upstart-dev to build-deps.

	* debian/rules: Add call to dh_installxsession.

	* debian/hildon-home.xsession (added): Add xsession file from
	system-services.
	* debian/hildon-home.init (deleted): Remove unused init file.

2009-01-20  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.7

2009-01-20  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/notification-groups.conf: Remove D-Bus-Call keys, so the
	ActionInvoked signal is sent by default. Fixes NB#97103

	* src/test-notifications.py (emit_notification,
	  notification_closed_handler, action_invoked_handler): Update
	  test code.

	* configure.ac: 0.3.7

	* debian/changelog: Update

2009-01-20  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.6

	* configure.ac: 0.3.6

2009-01-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-activate-views-dialog.c (hd_activate_views_dialog_dispose,
	  response_cb, hd_activate_views_dialog_init): Update for changed
	  GConf storage (in a list) of the active views.

2009-01-14  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-notification-manager.c (hd_notification_manager_init): Change
	directory for the persistent notifications db to
	~/.config/hildon-desktop and create it if not exist.

2009-01-13  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.5

	* configure.ac: 0.3.5

2009-01-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update.

	* src/hd-incoming-events.c (group_window_response): Invoke default
	action for notifications in switcher when no D-Bus callback is
	defined. Fixes: NB#97103
	  (load_notification_groups): Make D-Bus callback optional.

2009-01-07  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Added fixed bug.

2009-01-05  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-change-background-dialog.c (response_cb): Select the
	background image only for the current view. Fixes NB#96380

	* debian/changelog: Update changelog.

2009-01-05  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-manager.c (hd_bookmark_manager_parse_bookmark_files,
	  hd_bookmark_manager_bookmark_files_changed,
	  hd_bookmark_manager_monitor_bookmark_files,
	  hd_bookmark_manager_get): Monitor bookmark files for changes and
	  parse them again. Fixes NB#95283

	* debian/changelog: Update changelog.

2009-01-05  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c
	  (hd_bookmark_shortcut_update_from_gconf): Only try to load thumbnail
	  icon when there was no error.
	  (hd_bookmark_shortcut_dispose): Add missing unrefs.
	  (hd_bookmark_shortcut_expose_event): Only draw thumbnail icon if
	  available. Fixes NB#96683

	* debian/changelog: Update changelog.

2008-12-29  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.4

	* configure.ac: 0.3.4

2008-12-19  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hildon-home.c (main): Initialize Hildon with hildon_init ().

2008-12-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am:
	* src/hd-task-manager.c (hd_task_manager_load_desktop_file):
	* src/home.conf.in:
	* src/home-w50.plugins (deleted): Remove Xmas workarounds.

2008-12-17  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.3

2008-12-17  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_realize):
	* src/hd-task-shortcut.c (hd_task_shortcut_realize): Use rgb windows
	as long as rgba windows are not shown on the device.

2008-12-16  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.2

2008-12-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_class_init,
	  hd_bookmark_shortcut_init): Add shadow.
	* src/hd-task-shortcut.c (hd_task_shortcut_class_init,
	  hd_task_shortcut_init): Add shadow.

2008-12-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_expose_event,
	  hd_bookmark_shortcut_init): Use background image from theme.

2008-12-15  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.1

2008-12-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-activate-views-dialog.c (hd_activate_views_dialog_init): Fix
	  localized strings.
	* src/hd-change-background-dialog.c (response_cb,
	  hd_change_background_dialog_init): Fix localised strings.

	* src/hd-bookmark-shortcut.c (gconf_client, thumbnail_icon,
	  hd_bookmark_shortcut_update_from_gconf, hd_bookmark_shortcut_realize,
	  rounded_rectangle, hd_bookmark_shortcut_expose_event,
	  hd_bookmark_shortcut_class_init, hd_bookmark_shortcut_init): Draw
	  nicer shortcut.

	* src/hd-task-shortcut.c (hd_task_shortcut_expose_event): Use a
	  smaller curve.

2008-12-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-manager.c (hd_bookmark_manager_add_bookmark_item):
	Use thumbnail instead of favicon.

2008-12-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-task-shortcut.c (hd_task_shortcut_realize, rounded_rectangle,
	  hd_task_shortcut_expose_event, hd_task_shortcut_class_init,
	  hd_task_shortcut_init): Use nicer transparent background for task
	  shortcuts.

2008-12-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-change-background-dialog.c (response_cb):
	* src/hd-hildon-home-dbus.c (select_applets_clicked_cb,
	  select_shortcuts_clicked_cb, select_bookmarks_clicked_cb,
	  select_contacts_clicked_cb, manage_views_clicked_cb): Pointer grab
	  and ungrab for system modal dialogs is done in HDCompMgr now.

2008-12-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am:
	* src/home-w50.plugins:
	* src/home.conf.in:
	* src/home.plugins.in: xmas workaround (fix around
	  mediaplayerhomeapplet bug).

	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu):
	  fix comment.

2008-12-11  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-activate-views-dialog.c:
	* src/hd-activate-views-dialog.h: Implement "Activate views" dialog (gtk
	  version).

	* src/Makefile.am: Add hd-activate-views-dialog.[ch] to sources.

	* src/hd-hildon-home-dbus.c (manage_views_clicked_cb): Use "Activate
	  views" dialog

2008-12-11  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-change-background-dialog.c (response_cb,
	  hd_change_background_dialog_append_backgrounds,
	  hd_change_background_dialog_init): Fix for new themes directory
	  layout. Fix for new bg iamge gconf paths.

2008-12-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update changelog.

	* src/hd-notification-manager.c (hd_notification_manager_notify): Do
	  not assert that an icon is set. Fixes NB#94962

2008-12-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-change-background-dialog.c
	  (hd_change_background_dialog_dispose): Unref proxy.
	  (hd_change_background_dialog_set_property,
	   hd_change_background_dialog_class_init): Add proxy property
	  (response_cb): Fix selecting image. Fixes NB#95247
	  (hd_change_background_dialog_init,
	   hd_change_background_dialog_new): Add a D-Bus proxy argument and
	   property.
	* src/hd-change-background-dialog.h (hd_change_background_dialog_new):
	  Add a D-Bus proxy argument.

	* src/hd-hildon-home-dbus.c (change_background_clicked_cb):

2008-12-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update changelogs

2008-12-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update changelog.

2008-12-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (hd_incoming_events_notified): Do not show
	a visual notification for incoming-call notifications. Fixes NB#94960.

2008-12-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-manager.c
	(hd_bookmark_manager_parse_bookmark_files): Really fix the broken
	parse bookmark function. Fixes NB#95149

2008-12-09  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase required libhildondesktop version.

	* debian/control: Increase required libhildondesktop1-dev version.

	* src/hd-bookmark-manager.c
	  (hd_bookmark_manager_parse_bookmark_files): Do not use broken backup
	  bookmarks function (fixes segfault).
	  (hd_bookmark_manager_install_bookmark): Moved the code to create a
	  bookmark shortcut to libhildondesktop.

2008-12-08  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/notification-groups.conf: Change destination of email-message
	category to Modest.

2008-12-08  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-manager.c
	  (hd_bookmark_manager_parse_bookmark_files): Only call
	  hd_bookmark_manager_add_bookmark_item if the bookmarks file was
	  parsed successfully.

2008-12-05  Jan Arne Petersen  <jpetersen@openismus.com>

	* com.nokia.HildonHome.service.in:
	* org.freedesktop.Notifications.service.in: Add D-Bus .service files.

	* Makefile.am:  Install the .service files.

	* configure.ac: Add .service files.

	* debian/hildon-home.install: Install .service file in package.

2008-12-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update.

	* src/hd-incoming-events.c (group_update): Add missing cast to gint64.

	* src/notification-groups.conf: Add more groups. Fixes NB#94404
	  NB#94408

2008-12-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-add-task-dialog.c (hd_add_task_dialog_init): Use pixbuf in
	  the icon renderer in the application list.

	* src/hd-task-manager.c (hd_task_manager_load_desktop_file,
	  hd_task_manager_init): Only scan .desktop files of type Application.
	  Store a pixbuf of the icon for the Add shortcut dialog. Add -w50
	  workaround. Fixes NB#95228

2008-12-03  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.0

2008-12-02  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-change-background-dialog.c:
	  (hd_change_background_dialog_class_init, get_image_label_from_uri,
	  response_cb, hd_change_background_dialog_init): Implement getting
	  list of available background images and make it possible to select
	  them.

2008-12-02  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu):
	Add call to ungrab pointer (moved from hildon-desktop).

2008-11-28  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add hilon-fm-2 to the deps.

	* src/Makefile.am:
	* src/hd-background-dialog.c (deleted):
	* src/hd-background-dialog.h (deleted):
	* src/hd-change-background-dialog.c (added):
	* src/hd-change-background-dialog.h (added): Implement the new UI of the
	  change background dialog. Fixes NB#93117

	* src/hd-hildon-home-dbus.c: Fix grabs and ungrabs.

2008-11-28  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update entry.

	* src/hd-add-bookmark-dialog.c (hd_add_bookmark_dialog_init): Use a
	pixbuf and a text cell renderer to also display the bookmark icon.

	* src/hd-add-task-dialog.c (hd_add_task_dialog_init): Use a pixbuf and
	a text cell renderer to also display the task icon.

2008-11-28  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-task-manager.c (HD_KEY_FILE_DESKTOP_KEY_TRANSLATION_DOMAIN):
	Use X-Text-Domain.

2008-11-27  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update changelog.

2008-11-27  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-applet-manager.c (items_configuration_loaded_cb): Only show
	  not yet selected applets in dialog.
	  (delete_event_cb): Remove applet from configuration if it is closed,
	  which means removed from Home.
	  (plugin_added_cb, plugin_removed_cb, run_idle, hd_applet_manager_init,
	  hd_applet_manager_install_applet, hd_applet_manager_remove_applet):
	  Use only one plugin manager to load applets and manage the applets
	  on Home.
	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu): Only
	  show menu item if list of applets is not empty.
	* src/hildon-home.c (load_plugins_idle, main): Move plugin manager to
	  load applets to HDAppletManager.

2008-11-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-task-shortcut.c (hd_task_shortcut_init): Update layout.

2008-11-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase version.

	* debian/changelog: Add new entry for next release.

2008-11-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-manager.c: Store label/icon/URL in GConf for
	bookmark shortcuts.

	* src/hd-bookmark-shortcut.c: Update layout according to new layout
	spec. Load label/icon/URL from GConf.

	* src/hd-hildon-home-dbus.c (hd_hildon_home_dbus_show_edit_menu): Only
	show the "Add bookmark" menu item when a bookmark is available.

	* src/hildon-home.c (main): Create a HDBookmarkManager instance here.

2008-11-25  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-add-task-dialog.c (hd_add_task_dialog_dispose,
	  hd_add_task_dialog_init): Fix dialog title. Use GtkTreeModel instead
	  of GtkListStore.

	* src/hd-hildon-home-dbus.c (manage_views_clicked_cb,
	  model_row_inserted_cb, model_row_deleted_cb,
	  hd_hildon_home_dbus_show_edit_menu): Show Add shortcut menu item
	  only when the list of installable shortcuts is not empty.

	* src/hd-task-manager.c: Add functions to activate a task from
	HdTaskShortcut. Add functions to export label and icon of a task for
	shortcuts. Add filtered tree model to only show tasks which are not
	installed as shortcut yet. Fixes NB#93164.

	* src/hd-task-manager.h: Add declarations for new functions.

	* src/hd-task-shortcut.c: Do not parse .desktop files but use the
	information avaiable by HDTaskManager.

2008-11-25  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.2.1
	
2008-11-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update changelog.

2008-11-21  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add osso-bookmark-engine dependency. Add check for
	ftw.h

	* src/Makefile.am: Add new files as SOURCES. Add D-Bus glib-server
	glue generation.

	* src/hd-notification-manager.c (hd_notification_manager_finalize):
	Chainup.

	* src/hd-notification-manager.xml: Update annotation.

	* src/hildon-home.c (main): Add D-Bus interface.

	* src/hd-add-applet-dialog.c (added):
	* src/hd-background-dialog.c (added):
	* src/hd-add-applet-dialog.h (added):
	* src/hd-background-dialog.h (added):
	* src/hd-applet-manager.c (added):
	* src/hd-hildon-home-dbus.c (added):
	* src/hd-applet-manager.h (added):
	* src/hd-hildon-home-dbus.h (added):
	* src/hd-task-manager.c (added):
	* src/hd-hildon-home-dbus.xml (added):
	* src/hd-task-manager.h (added):
	* src/hd-add-task-dialog.c (added):
	* src/hd-add-task-dialog.h (added): Move Edit menu from
	hildon-desktop.

	* src/hd-bookmark-manager.c (added):
	* src/hd-bookmark-manager.h (added):
	* src/hd-add-bookmark-dialog.c (added):
	* src/hd-add-bookmark-dialog.h (added): Implement Add bookmark dialog.

2008-11-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* debian/changelog:
	* debian/control: Increase version to 0.2.1. Depend on latest
	libhildondesktop1.

	* debian/rules: Do not call configure via autogen.sh

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_get_applet_id,
	  hd_bookmark_shortcut_class_init): Implement virtual get_applet_id()
	  function to add a prefix.
	* src/hd-task-shortcut.c (hd_task_shortcut_get_applet_id,
	  hd_task_shortcut_class_init): Implement virtual get_applet_id()
	  function to add a prefix.

2008-11-17  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.2.0
	
	* Makefile.am, debian/hildon-home.install: change Gconf schema
	install directory.

	* debian/rules: run ./autogen.sh

2008-11-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* Makefile.am: Install hildon-home.schemas.

	* configure.ac: Add GConf related variables.

	* debian/hildon-home.install: Install hildon-home.schemas into
	package.

	* debian/rules: Use gnome rules to get dh_gconf run.

	* hildon-home.schemas: Add some schemas for bookmark-shortcuts and
	task-shortcuts keys.

2008-11-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hildon-home.c (main): Add gconf dir watch, so hildon-home gets
	notified about changes.

2008-11-11  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase version to 0.2.0. Require libhildondesktop-1
	2.1.7.

	* debian/changelog: Add entry for 0.2.0~unreleased.

	* debian/control: Depend on newer libhildondesktop1-dev.

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_set_uri,
	  hd_bookmark_shortcut_constructor, hd_bookmark_shortcut_finalize,
	  hd_bookmark_shortcut_activate,
	  hd_bookmark_shortcut_class_init):
	* src/hd-bookmark-shortcut.h: Remove uri property and use plugin-id
	instead.

	* src/hd-task-shortcut.c (hd_task_shortcut_set_desktop_id,
	  hd_task_shortcut_constructor, hd_task_shortcut_finalize,
	  hd_task_shortcut_class_init):
	* src/hd-task-shortcut.h: Remove desktop-id property and use plugin-id
	instead.

	* src/hildon-home.c (main): Use new generic shortcuts API.

	* src/hd-shortcuts.c (deleted):
	* src/hd-shortcuts.h (deleted): Moved to libhildondesktop1.

	* src/Makefile.am: Remove hd-shortcuts.[ch].

2008-11-07  Jan Arne Petersen  <jpetersen@openismus.com>

	Incoming events enhancements. This patch makes HDIncomingEventWindow:s
	more informative for the window manager.

	patch by: adam.endrodi@blumsoft.eu

	* src/hd-incoming-event-window.c
	  (hd_incoming_event_window_set_string_xwindow_property): Add a
	  convenience function to set a string type window property.
	  (hd_incoming_event_window_realize): Set additional window
	  properties.
	  (hd_incoming_event_window_get_property,
	  hd_incoming_event_window_set_property,
	  hd_incoming_event_window_class_init): Add destination property.
	  (hd_incoming_event_window_init): Add widget names (for theming).
	  (hd_incoming_event_window_new): Add destination argument.
	* src/hd-incoming-event-window.h: Add destination argument to _new
	  fucntion.
	* src/hd-incoming-events.c (group_free, group_update,
	  preview_window_response, hd_incoming_events_notified,
	  load_notification_groups): Add destination key.
	* src/notification-groups.conf: Add Destination key.
	* src/test-incoming-event.c (response, main): Add response handler

2008-11-07  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-notification-manager.c (hd_notification_manager_notify):
	Check for opened database.

2008-11-04  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/hildon-home.init: Fix su usage in scratchbox.

	* debian/control:
	* debian/hildon-home.install:
	* debian/rules: Use cdbs.

	* debian/conffiles (deleted): Remove (lintian).

2008-11-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (group_free, group_update): Rename field to
	  text_domain.
	  (load_notification_groups): Use symbolic names for key file keys.
	* src/notification-groups.conf: Use new key names.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/compat:
	* debian/conffiles:
	* debian/control:
	* debian/rules: Fix lintian warnings.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update changelog for 0.1.3 release.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Release 0.1.3

	* debian/control: Update requirements.

2008-10-30  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Update for 0.1.3 release.

	* debian/control: Update libhildondesktop1-dev requirement.

	* src/hildon-home.c (main): Use the new simplified HDConfigFile API.

2008-10-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Update version to 0.1.3. Require libhildondesktop
	2.1.6.

	* src/hildon-home.c (main): Do not unref HDConfigFile instances.

2008-10-19  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c (hd_bookmark_shortcut_new): Replace
	dashes with slashes in the ID.

2008-10-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-bookmark-shortcut.c:
	* src/hd-bookmark-shortcut.h: Add basic Bookmark Shortcut
	implementation.

	* src/hd-shortcuts.c: Add support for bookmark shortcuts.

	* src/Makefile.am: Add new files.

2008-10-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-incoming-events.c (group_free): Free translation domain.
	  (group_update): Use dgettext() and translation domain instead of
	  gettext().
	  (load_notification_groups): Load the optional translation domain
	  value (Translation-Domain).

	* src/hd-task-shortcut.c (hd_task_shortcut_load_from_file): Load the
	optional translation domain value and use dgettext() instead of
	gettext().

2008-10-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* debian/changelog: Release 0.1.2

	* debian/conffiles: Remove empty line.

2008-10-07  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am: Add hd-shortcuts.[ch] and hd-task-shortcut.[ch].

	* src/hd-shortcuts.c:
	* src/hd-shortcuts.h: Add support for Task Shortcut configuration via
	GConf.

	* src/hd-task-shortcut.c:
	* src/hd-task-shortcut.h: Add support for Task Shortcut applets.

	* src/hildon-home.c: Add support for Task Shortcut applets.

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Release 0.1.0

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/control: Update require libhildondesktop1-dev version.

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/hildon-home.init:
	* debian/rules: Added hildon-home startup script.

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add gettext support.

	* src/notification-groups.conf: Add configuration file for
	notification groups.

	* src/Makefile.am: Add notification-groups.conf.

	* src/hd-incoming-event-window.c:
	* src/hd-incoming-event-window.h: Change type of time property from
	gchar* to gint64.

	* src/hd-notification-manager.c:
	* src/hd-notification-manager.h: Use the new HDNotification class from
	libhildondesktop.

	* src/hd-incoming-events.c:
	* src/hd-incoming-events.h: Use HDNotifications instead of
	notification ids. Add support for notification groups. Add support for
	notification windows for the switcher window. Add support for
	notification plugins.

	* src/hd-system-notifications.c:
	* src/hd-system-notifications.h: Use HDNotifications instead of
	notification ids.

	* src/hildon-home.c (main): Add locale support. Add support for
	notification plugins.

	* src/test-incoming-event.c (main): Update to new API.

	* src/test-notifications.py: Add test for notification groups.

2008-09-20  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am: Install notification-groups.conf.

	* src/hd-incoming-events.c (update_group): Add initial support to
	  group switcher windows.
	  (preview_window_response): Show a switcher window if the preview
	  was not clicked.
	  (load_notification_groups): Load the notification groups
	  configuration file.

	* src/notification-groups.conf: Add sample notification groups file.

	* src/test-notifications.py: Update category to match notification
	group.

2008-09-19  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am: Add test-incoming-event program.

	* src/hd-incoming-event-window.c: Add response signal. Add support for
	preview timeouts. Use 

	* src/hd-incoming-event-window.h: Add response signal.

	* src/hd-incoming-events.c:
	* src/hd-incoming-events.h: Add initial support for incoming events.

	* src/hd-notification-manager.c:
	* src/hd-notification-manager.h:
	* src/hd-system-notifications.c:
	* src/hd-system-notifications.h: Update Copyright text

	* src/hildon-home.c (main): Remove the test notification window.

	* src/test-incoming-event.c: Add test for a notification window in the
	task switcher

	* src/test-notifications.py: Add a test for notifications.

2008-09-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am: Add hd-incoming-event-window.[ch] to SOURCES.

	* src/hd-incoming-event-window.c:
	* src/hd-incoming-event-window.h: Add HDIncomingEventWindow class for
	incoming event display.

	* src/hildon-home.c (main): Create and display an example
	HDIncomingEventWindow.

2008-09-18  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add check for dbus-binding-tool

	* src/Makefile.am: Add rules for hd-marshal.[ch] generation.

	* src/hd-marshal.list: Add marshal definition for notification-sent
	and notification-updated signals.

	* src/hd-notification-manager.c (hd_notification_manager_next_id):
	  Don't crash if database could not be opened.
	  (hd_notification_manager_class_init): Add notification-sent and
	  notification-updated signals.
	  (hd_notification_manager_notify): Emit notification-sent and
	  notification-updated signals.
	* src/hd-notification-manager.h: Add notification-sent and
	  notification-updated signals.

	* src/hd-system-notifications.c:
	* src/hd-system-notifications.h: Add handling of system.note.infoprint
	and system.note.dialog notifications (from Diablo).

	* src/hildon-home.c (main): Create HDNotificationManager and
	HDSystemNotifications objects.

2008-09-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/Makefile.am:
	* src/hd-notification-manager.c (hd_notification_manager_init):
	* src/hd-notification-manager.xml (added):
	* src/notification-manager.xml (deleted): Rename
	notification-manager.xml to hd-notification-manager.xml. Use
	hd_notification_manager as prefix for the generated file. Use
	hd-notification-manager-glue.h as the generated file name.

2008-09-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* src/Makefile.am:
	* src/home.conf.in:
	* src/home.plugins.in: Add configuration files for the the home applet
	plugin manager.

	* debian/hildon-home.install: Install the new configuration files.

	* src/hildon-home.c (home_plugin_added, home_plugin_removed, main):
	Add support for the home applet plugins.

2008-09-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Require libhildondesktop >= 2.1.4.

	* src/hildon-home.c (signal_handler): Use hd_stamp_file_finalize
	function.
	(main): Use hd_stamp_file_init function.

2008-09-12  Jan Arne Petersen  <jpetersen@openismus.com>

	* autogen.sh:
	* AUTHORS:
	* COPYING:
	* INSTALL:
	* NEWS:
	* README:
	* Makefile.am:
	* configure.ac:
	* src/Makefile.am: Add files required by automake.

	* src/hildon-home.c: Add hildon-home application. Implement
	notifications.

	* src/hd-notification-manager.c:
	* src/hd-notification-manager.h:
	* src/notification-manager.xml: Add support for
	org.freedesktop.Notifications D-Bus API. Based on diablo
	hildon-desktop code. Add support for notification plugins.

	* src/notification.conf.in: Add configuration for notification
	plugins.

	* debian/changelog:
	* debian/control:
	* debian/hildon-home.install:
	* debian/rules: Add debian package files.

